"use strict";angular.module("frontendApp",["ngAnimate","ngCookies","ngMaterial","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/login.html",controller:"loginCtrl"}).when("/overview",{templateUrl:"views/overview.html"}).when("/houses",{templateUrl:"views/overview_houses.html",controller:"houseOverviewCtrl"}).when("/house_search",{templateUrl:"views/house_search.html",controller:"houseSearchCtrl"}).when("/signup",{templateUrl:"views/signup.html",controller:"signupCtrl"}).when("/edit_profile",{templateUrl:"views/edit_profile.html",controller:"editProfileCtrl"}).when("/edit_house",{templateUrl:"views/edit_house.html",controller:"editHouseCtrl"}).otherwise({redirectTo:"/"})}]).controller("appCtrl",["$http","$location","$mdToast","$rootScope",function(a,b,c,d){d.serverHost="http://tophaus.herokuapp.com/",d.user||b.path("/"),d.goToState=function(a){d.user?b.path(a):b.path("/")},d.showSimpleToast=function(a){c.show(c.simple().content(a||"Toast!").position("top right").hideDelay(2e3))},d.deleteAccount=function(){a["delete"](d.serverHost+"users/deleteUser/"+d.user.id+"/").then(function(){d.showSimpleToast("Deleted!"),d.logout()})},d.logout=function(){d.user=null,d.goToState("/")}}]),angular.module("frontendApp").controller("editHouseCtrl",["$http","$rootScope","$scope",function(a,b,c){a.get(b.serverHost+"houses/getHouse/"+b.editHouseId+"/").success(function(a){c.house=a,c.house.cost=c.house.exact_cost,c.house.roommates=c.house.number_of_people}),c.saveHouse=function(c){a.put(b.serverHost+"houses/updateHouse/"+b.editHouseId+"/",{location:c.location,exact_cost:c.cost,number_of_people:c.roommates,style:c.style}).success(function(){b.showSimpleToast("Added a house!"),b.goToState("houses")})}}]),angular.module("frontendApp").controller("editProfileCtrl",["$http","$rootScope","$scope",function(a,b,c){c.user=b.user;var d=function(){c.user?c.user.preferences?"string"==typeof c.user.preferences&&(c.user.preferences=c.user.preferences.split(",")):c.user.preferences=[]:c.user={preferences:[]}};d(),c.user.roommates=c.user.number_of_roommates,c.user.staylength=c.user.length_of_stay,c.updateUser=function(){c.user.preferences=c.user.preferences.join(),a.put(b.serverHost+"users/updateUser/"+b.user.id+"/",{name:c.user.name,gender:c.user.gender,budget:c.user.budget,number_of_roommates:c.user.roommates,style:c.user.style,location:c.user.location,type_of_time:"D",length_of_stay:c.user.staylength,preferences:c.user.preferences,company:c.user.company}).success(function(a){b.user=a,d(),b.showSimpleToast("Profile updated!")})},c.toggle=function(a,b){var c=b.indexOf(a);c>-1?b.splice(c,1):b.push(a)},c.exists=function(a,b){return b.indexOf(a)>-1}}]),angular.module("frontendApp").controller("houseOverviewCtrl",["$http","$rootScope","$scope",function(a,b,c){c.searchForHouse=function(c){a.get(b.serverHost+"houses/?format=json&location="+c).success(function(a){a.length?(b.searchResults=a,b.goToState("house_search")):b.showSimpleToast("No results!")})},c.listHouse=function(c){a.post(b.serverHost+"houses/newHouse/",{location:c.location,exact_cost:c.cost,number_of_people:c.roommates,style:c.style}).success(function(){b.showSimpleToast("Added a house!"),b.goToState("/houses")})}}]),angular.module("frontendApp").controller("houseSearchCtrl",["$http","$rootScope","$scope",function(a,b,c){c.editHouse=function(a){b.editHouseId=a,b.goToState("edit_house")},c.deleteHouse=function(c){a["delete"](b.serverHost+"houses/deleteHouse/"+c+"/").success(function(){b.showSimpleToast("House deleted!"),b.goToState("houses")})}}]),angular.module("frontendApp").controller("loginCtrl",["$http","$rootScope","$scope",function(a,b,c){c.login=function(){a.get(b.serverHost+"users/?format=json&name="+c.user.name).then(function(a){a.data.length?(b.showSimpleToast("Welcome!"),b.user=a.data[0],b.goToState("overview")):b.showSimpleToast("Invalid Login")})},c.signup=function(){b.user=c.user,b.goToState("signup")}}]),angular.module("frontendApp").controller("signupCtrl",["$http","$rootScope","$scope",function(a,b,c){c.user=b.user,c.user?c.user.preferences||(c.user.preferences=[]):c.user={preferences:[]},c.updateUser=function(){c.user.preferences=c.user.preferences.join(),a.post(b.serverHost+"users/newUser/",{name:c.user.name,gender:c.user.gender,budget:c.user.budget,number_of_roommates:c.user.roommates,style:c.user.style,location:c.user.location,type_of_time:"D",length_of_stay:c.user.staylength,preferences:c.user.preferences,company:c.user.company}).success(function(a){b.user=a,b.showSimpleToast("Welcome!"),b.goToState("overview")})},c.toggle=function(a,b){var c=b.indexOf(a);c>-1?b.splice(c,1):b.push(a)}}]),angular.module("frontendApp").run(["$templateCache",function(a){a.put("views/edit_house.html",'<div class="centered-card demo-card mdl-card mdl-shadow--2dp"> <div class="mdl-card__title"> <h2 class="mdl-card__title-text">Edit House</h2> </div> <div class="mdl-card__supporting-text"> <md-input-container> <label>Location</label> <input ng-model="house.location"> </md-input-container> <md-input-container> <label>Cost</label> <input ng-model="house.cost" type="number"> </md-input-container> <md-input-container> <label># of roommates</label> <input ng-model="house.roommates" type="number"> </md-input-container> <label>Style</label> <md-select ng-model="house.style" aria-label="style"> <md-option value="Art Deco">Art Deco</md-option> <md-option value="Igloo">Igloo</md-option> <md-option value="Modern">Modern</md-option> <md-option value="Post Modern">Post-modern</md-option> <md-option value="Rustic">Rustic</md-option> <md-option value="Ranch">Ranch</md-option> <md-option value="Urban">Urban</md-option> </md-select> </div> <div class="mdl-card__actions mdl-card--border"> <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" ng-click="saveHouse(house)"> Edit Listing </a> </div> </div>'),a.put("views/edit_profile.html",'<div> <div class="centered-card demo-card-wide mdl-card mdl-shadow--2dp"> <div class="mdl-card__title"> <h2 class="mdl-card__title-text">Edit Profile</h2> </div> <div class="mdl-card__supporting-text"> <md-input-container> <label>Gender</label> <input ng-model="user.gender"> </md-input-container> <md-input-container> <label>Location</label> <input ng-model="user.location"> </md-input-container> <md-input-container> <label>Company</label> <input ng-model="user.company"> </md-input-container> <md-input-container> <label>Budget</label> <input ng-model="user.budget" type="number"> </md-input-container> <md-input-container> <label># of Roommates</label> <input ng-model="user.roommates" type="number"> </md-input-container> <md-input-container> <label>Length of Stay</label> <input ng-model="user.staylength" type="number"> </md-input-container> <label>Style</label> <md-select ng-model="user.style" aria-label="style"> <md-option value="Art Deco">Art Deco</md-option> <md-option value="Igloo">Igloo</md-option> <md-option value="Modern">Modern</md-option> <md-option value="Post Modern">Post-modern</md-option> <md-option value="Rustic">Rustic</md-option> <md-option value="Ranch">Ranch</md-option> <md-option value="Urban">Urban</md-option> </md-select> <span>Preferences</span> <md-checkbox ng-click="toggle(\'Near schools\', user.preferences)" ng-checked="exists(\'Near schools\', user.preferences)">Near schools</md-checkbox> <md-checkbox ng-click="toggle(\'Near restaurants\', user.preferences)" ng-checked="exists(\'Near restaurants\', user.preferences)">Near restaurants</md-checkbox> <md-checkbox ng-click="toggle(\'Pool\', user.preferences)" ng-checked="exists(\'Pool\', user.preferences)">Pool</md-checkbox> <md-checkbox ng-click="toggle(\'Gym\', user.preferences)" ng-checked="exists(\'Gym\', user.preferences)">Gym</md-checkbox> <md-checkbox ng-click="toggle(\'Garden\', user.preferences)" ng-checked="exists(\'Garden\', user.preferences)">Garden</md-checkbox> </div> <div class="mdl-card__actions mdl-card--border"> <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" ng-click="updateUser()"> Submit </a> </div> </div> </div>'),a.put("views/house_search.html",'<div class="centered-card demo-card-wide mdl-card mdl-shadow--2dp house-result" ng-repeat="house in $root.searchResults"> <div class="mdl-card__title"> </div> <div class="mdl-card__supporting-text"> <label>Location</label> <div>{{house.location}}</div> <br> <label># of People</label> <div>{{house[\'number_of_people\']}}</div> <br> <label>Cost</label> <div>${{house[\'exact_cost\']}}</div> <br> <label>Style</label> <div>{{house.style}}</div> </div> <div class="mdl-card__actions mdl-card--border"> <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"> Inquire </a> <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" ng-click="editHouse(house.id)"> Edit </a> <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" ng-click="deleteHouse(house.id)"> Delete </a> </div> </div>'),a.put("views/login.html",'<div class="centered-card demo-card-wide mdl-card mdl-shadow--2dp"> <div class="mdl-card__title"> <h2 class="mdl-card__title-text">Welcome</h2> </div> <div class="mdl-card__supporting-text"> <md-input-container> <label>Username</label> <input ng-model="user.name" required> </md-input-container> <md-input-container> <label>Password</label> <input ng-model="user.password" type="password"> </md-input-container> </div> <div class="mdl-card__actions mdl-card--border"> <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" ng-click="login()"> Login </a> <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" ng-click="signup()"> Sign Up </a> </div> </div>'),a.put("views/new_user.html",'<!--new_user page--> <div> <div class="centered-card demo-card-wide mdl-card mdl-shadow--2dp"> <div class="mdl-card__title"> <h2 class="mdl-card__title-text">New User Details</h2> </div> <div class="mdl-card__supporting-text"> </div> <div class="mdl-card__actions mdl-card--border"> <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"> Create User </a> </div> </div> </div> <!--End new_user page-->'),a.put("views/overview.html",'<div class="centered-card demo-card-wide image mdl-card mdl-shadow--2dp"> <div class="mdl-card__title"> <h2 class="mdl-card__title-text">Overview</h2> </div> <div class="mdl-card__supporting-text"> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. </div> <div class="mdl-card__actions mdl-card--border"> <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"> Lorem Ipsum </a> </div> </div>'),a.put("views/overview_houses.html",'<div class="buffer-top"> <md-grid-list md-cols="2" md-row-height="fit"> <md-grid-tile> <div class="centered-card demo-card mdl-card mdl-shadow--2dp"> <div class="mdl-card__title"> <h2 class="mdl-card__title-text">Find a House</h2> </div> <div class="mdl-card__supporting-text"> <md-input-container> <label>Location</label> <input ng-model="search"> </md-input-container> </div> <div class="mdl-card__actions mdl-card--border"> <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" ng-click="searchForHouse(search)"> Search </a> </div> </div> </md-grid-tile> <md-grid-tile> <div class="centered-card demo-card mdl-card mdl-shadow--2dp"> <div class="mdl-card__title"> <h2 class="mdl-card__title-text">List a House</h2> </div> <div class="mdl-card__supporting-text"> <md-input-container> <label>Location</label> <input ng-model="house.location"> </md-input-container> <md-input-container> <label>Cost</label> <input ng-model="house.cost" type="number"> </md-input-container> <md-input-container> <label># of roommates</label> <input ng-model="house.roommates" type="number"> </md-input-container> <label>Style</label> <md-select ng-model="house.style" aria-label="style"> <md-option value="Art Deco">Art Deco</md-option> <md-option value="Igloo">Igloo</md-option> <md-option value="Modern">Modern</md-option> <md-option value="Post Modern">Post-modern</md-option> <md-option value="Rustic">Rustic</md-option> <md-option value="Ranch">Ranch</md-option> <md-option value="Urban">Urban</md-option> </md-select> </div> <div class="mdl-card__actions mdl-card--border"> <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" ng-click="listHouse(house)"> Create Listing </a> </div> </div> </md-grid-tile> </md-grid-list> </div>'),a.put("views/signup.html",'<div> <div class="centered-card demo-card-wide mdl-card mdl-shadow--2dp"> <div class="mdl-card__title"> <h2 class="mdl-card__title-text">Edit Profile</h2> </div> <div class="mdl-card__supporting-text"> <md-input-container> <label>Gender</label> <input ng-model="user.gender" required> </md-input-container> <md-input-container> <label>Location</label> <input ng-model="user.location" required> </md-input-container> <md-input-container> <label>Company</label> <input ng-model="user.company" required> </md-input-container> <md-input-container> <label>Budget</label> <input ng-model="user.budget" type="number" required> </md-input-container> <md-input-container> <label># of Roommates</label> <input ng-model="user.roommates" type="number" required> </md-input-container> <md-input-container> <label>Length of Stay</label> <input ng-model="user.staylength" type="number" required> </md-input-container> <label>Style</label> <md-select ng-model="user.style" aria-label="style" required> <md-option value="Art Deco">Art Deco</md-option> <md-option value="Igloo">Igloo</md-option> <md-option value="Modern">Modern</md-option> <md-option value="Post Modern">Post-modern</md-option> <md-option value="Rustic">Rustic</md-option> <md-option value="Ranch">Ranch</md-option> <md-option value="Urban">Urban</md-option> </md-select> <span>Perferences</span> <md-checkbox ng-click="toggle(\'Near schools\', user.preferences)">Near schools</md-checkbox> <md-checkbox ng-click="toggle(\'Near restaurants\', user.preferences)">Near restaurants</md-checkbox> <md-checkbox ng-click="toggle(\'Pool\', user.preferences)">Pool</md-checkbox> <md-checkbox ng-click="toggle(\'Gym\', user.preferences)">Gym</md-checkbox> <md-checkbox ng-click="toggle(\'Garden\', user.preferences)">Garden</md-checkbox> </div> <div class="mdl-card__actions mdl-card--border"> <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" ng-click="updateUser()"> Submit </a> </div> </div> </div>')}]);